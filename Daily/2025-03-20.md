
#dart 


## 업 캐스팅과 오버라이딩

```dart
Slime slime = Slime('A');
Monster monster = Slime('B');

slime.run();
monster.run();
```

- 업 캐스팅을 하고 메서드를 호출하면 실제 인스턴스를 기준으로 상속 관계를 탐색해서 메서드를 호출하기 때문에 실제 `Slime` 인스턴스의 오버라이딩 된 `run()`이 호출된다.


```mermaid
---
title: 테란 UML
---
classDiagram

class Unit {
	<<abstract>>
	int hp
	int mp
	int shield
}

class Structure {
	<<abstract>>
}

Unit <|-- Structure
Structure <| -- CommandCenter

class Moveable {
	<<interface>>
	move()*
}

class Combatant {
	<<abstract>>
	int ap
	attack(Unit)
	move()
}

class NonCombatant{
	<<abstract>>
	move()
}

class Groupable {
	<<interface>>
	group(List Moveable)
}

Moveable <|.. Combatant
Moveable <|.. NonCombatant

Groupable <|.. Combatant
Groupable <|.. NonCombatant

Mechanic <|.. Vulture
Mechanic <|.. Tank
Mechanic <|.. Scv

Bionic <|.. Marine
Bionic <|.. Medic

NonCombatant <|.. Medic

Repairable <|.. Vulture
Repairable <|.. Tank
Repairable <|.. Scv
Repairable <|.. CommandCenter

class Collectible {
	<<interface>>
	collect(Mineral)
}

Collectible <|.. Scv

class Medic {
	heal(Treatable)
}

class Treatable {
	<<interface>>
}

Treatable <|.. Marine
Treatable <|.. Scv
Treatable <|.. Medic
```


---
Zerg 

```mermaid
classDiagram

class Unit {
	<<abstract>>
	int hp
	int mp
	int shield
}

class Structure {
	<<abstract>>
}

class Combatant {
	<<abstract>>
	int ap
	attack(Unit unit)
	move()
	group(List Moveable)
}

class Moveable {
	<<interface>>
	move()*
}

class Groupable {
	<<interface>>
	group(List Moveable)*
}

class Regenerable {
	<<interface>>
	regen()
}

class Zerg {
	<<interface>>
}

class Collectible {
	<<interface>>
	collect(Mineral mineral)
}

Structure --|> Unit
Combatant --|> Unit
Hatchery --|> Structure
Hatchery ..|> Zerg
Zerg ..|> Bionic
Zerg ..|> Regenerable
Combatant ..|> Mo

```


---
Protoss

```mermaid
classDiagram
class Unit {
	<<abstract>>
	int hp
	int mp
	int shield
}

class Structure {
	<<abstract>>
}

class Combatant {
	<<abstract>>
	int ap
	attack(Unit unit)
	move()
	group(List Moveable)
}

class Moveable {
	<<interface>>
	move()*
}

class Groupable {
	<<interface>>
	group(List Moveable)*
}

class Regenerable {
	<<interface>>
	regen()
}

class Zerg {
	<<interface>>
}

class Collectible {
	<<interface>>
	collect(Mineral mineral)
}
```