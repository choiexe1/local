---
title:
tags:
  - java
  - programming
  - exception
publish: true
date: 2024-10-06
---

## 체크 예외

- `Exception`과 그 하위 예외는 모두 컴파일러가 체크하는 체크 예외이다. 단 `RuntimeException`은 포함되지 않는다.
- 체크 예외는 잡아서 처리하거나, 또는 밖으로 던지도록 선언해야한다. 그렇지 않으면 컴파일 오류가 발생한다.

```java title="체크 예외 예제 1"
/** * Exception을 상속받은 예외는 체크 예외가 된다. */
public class CheckedException extends Exception {
	public CheckedException(String message) {
		super(message);
	}
}
```

- 예외 클래스를 만들려면, 예외를 상속받으면 된다.
- `Exception`을 상속 받은 예외는 체크 예외가 된다.

```java title="체크 예외 예제 2"
public class Client {
  public void call() throws CheckedException {
    // 문제 상황
    throw new CheckedException("ex");
  }
}
```

- 예외도 객체이기 때문에 생성해야 한다. `throw` 키워드를 사용하여 예외를 발생 시킬 수 있다.
- `throws`는 발생한 예외를 메서드 밖으로 던질 때 사용하는 키워드다. 두 키워드의 차이에 주의해야 한다.

```java title="체크 예외 예제 3"
public class Service {
  Client client = new Client();

  /**
   * 예외를 잡아서 처리하는 코드
   */
  public void callCatch() {
    try {
      client.call();
    } catch (CheckedException e) {
      System.out.println("예외 처리, message: " + e.getMessage());
    }

    System.out.println("정상 흐름");
  }

  /**
   * 체크 예외를 밖으로 던지는 코드
   * 체크 예외는 예외를 잡지 않고 밖으로 던지려면 throws 예외를 메서드에 필수로 선언해야 한다.
   */  public void catchThrow() throws CheckedException {
    client.call();
  }
}
```

- `CheckedException`은 `Exception`을 상속 받았다. `Exception`을 상속 받으면 체크 예외가 된다.
- 예외가 제공하는 기본 기능이 있는데, 그 중에 오류 메시지를 보관하는 기능도 있다. **체크 예외 예제 1** 처럼 생성자를 통해서 해당 기능을 그대로 사용하면 편리하다.
- 익숙한 `try-catch` 구문을 통해서 예외가 발생할 수 있는 메서드를 실행하고, 예외가 발생하면 처리한다. 그러나 `try`에서 발생한 예외가 `catch`의 대상에 없으면 예외를 잡을 수 없다. 이 때는 예외를 밖으로 던져야한다.

> [!note] 체크 예외의 장단점
> 체크 예외는 예외를 잡아서 처리할 수 없을 때, 예외를 밖으로 던지는 `throws`를 필수로 선언해야 한다.
>
> 그렇지 않으면 컴파일 오류가 발생한다. 이것 때문에 장점과 단점이 동시에 존재한다.
>
> - **장점**: 개발자가 실수로 예외를 누락하지 않도록 컴파일러를 통해 문제를 잡아주는 훌륭한 안전 장치다. 이를 통해 개발자는 어떤 체크 예외가 발생하는지 쉽게 파악 할 수 있다.
> - **단점**: 하지만 실제로는 개발자가 모든 체크 예외를 반드시 잡거나 던지도록 처리해야 하기 때문에, 너무 번거로운 일이 된다. 크게 신경쓰고 싶지 않은 예외까지 모두 챙겨야 한다.

## 언체크 예외

- `RuntimeException`과 그 하위 예외는 언체크 예외로 분류된다.
- 언체크 예외는 말 그대로 컴파일러가 예외를 체크하지 않는다는 뜻이다.
- 언체크 예외는 체크 예의와 기본적으로 동일하다, 차이가 있다면 예외를 던지는 `throws`를 선언하지 않고 생략할 수 있다. 생략한 경우 자동으로 예외를 던진다.

> [!tip] 체크 예외 vs 언체크 예외
>
> - **체크 예외**: 예외를 잡아서 처리하지 않으면 항상 `thorws` 키워드를 사용해서 던지는 예외를 선언해야 한다.
> - **언체크 예외**: 예외를 잡아서 처리하지 않아도 `throws` 키워드를 생략할 수 있다. 이 경우 상위로 예외를 던진다.

- 언체크 예외는 주로 `throws`를 생략하지만, `throws`를 통해 명시해도 된다.

> [!note] 언체크 예외의 장단점 언체크
>
> 예외는 예외를 잡아서 처리할 수 없을 때, 예외를 밖으로 던지는 `throws` 를 생략할 수 있다.
> 이것 때문에 장점과 단점이 동시에 존재한다.
>
> - **장점**: 신경쓰고 싶지 않은 언체크 예외를 무시할 수 있다. 체크 예외의 경우 처리할 수 없는 예외를 밖으로 던지려 면 항상 throws 예외 를 선언해야 하지만, 언체크 예외는 이 부분을 생략할 수 있다.
> - **단점**: 언체크 예외는 개발자가 실수로 예외를 누락할 수 있다. 반면에 체크 예외는 컴파일러를 통해 예외 누락을 잡아준다.

> [!note] 핵심 정리
> 체크 예외와 언체크 예외의 차이
>
> - 컴파일러가 예외 처리를 체크해주는지와 체크하지 않는지
> - 예외를 처리할 수 없을 때 예외를 밖으로 던지는 부분을 명시해야 하는가, 명시하지 않아도 되는가에 있다.

---

References: 김영한의 실전 자바 - 중급 1편

Links to this page: [[예외 처리가 필요한 이유]], [[예외 계층]], [[실무 예외 처리 방안]]
