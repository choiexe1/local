플러터의 위젯들 (StatefulWidget, StatelessWidget)에 모두 상수 생성자 기능(Constant Constructor)를 사용하는 이유가 뭐니

### 1. **불변 객체(Immutable Object)로 최적화**

`const` 키워드를 사용하면 객체를 **컴파일 타임에 미리 생성**하여 **메모리 할당을 최소화**할 수 있다.  
일반적으로 위젯은 불변(immutable)한 데이터가 많기 때문에, 상수 생성자로 선언하면 **불필요한 객체 재생성을 방지**할 수 있다.

위 코드에서 `const MyWidget()`을 사용하면, `MyWidget` 인스턴스는 **동일한 값으로 여러 번 생성될 필요 없이 재사용**된다.

### 2. **위젯 트리에서 불필요한 렌더링 방지**

Flutter에서는 위젯 트리를 비교하여 **변경된 위젯만 다시 빌드**하는데,  
위젯이 `const`로 선언되어 있으면 **이전 빌드와 비교할 때 같은 객체로 간주**되어 다시 빌드되지 않는다.

즉, `const`를 사용하면 **불필요한 rebuild를 방지하여 성능을 향상**시킬 수 있다.

### 3. **StatefulWidget도 상수 생성자로 만들 수 있는 이유**

`StatefulWidget`도 상수 생성자로 만들 수 있는데,  
이때 **State 객체는 그대로 유지되면서 위젯의 재사용이 가능**하기 때문이다.

- `StatefulWidget` 자체는 **불변 객체**이므로 상수 생성자로 만들 수 있다.
- 다만, `State<MyStatefulWidget>`는 변경될 수 있지만, **위젯 인스턴스 자체는 재사용 가능**하므로 `const`를 사용할 수 있다.
    

---

### 4. **결론**

- `const`를 사용하면 **위젯 인스턴스를 재사용**하여 **메모리 낭비를 줄이고, 불필요한 rebuild를 방지**할 수 있다.
    
- `StatelessWidget`뿐만 아니라 `StatefulWidget`도 **상수 생성자로 선언 가능**하며, 이 경우 **위젯 트리는 동일하지만 상태(State)는 유지**된다.
    
- 특히, Flutter는 **위젯이 자주 생성되고 소멸되는 프레임워크**이므로, `const` 키워드를 적극적으로 활용하는 것이 **성능 최적화의 핵심**이다.
    

💡 **즉, 상수 생성자를 사용하면 Flutter의 "위젯 트리 비교 및 재사용" 메커니즘을 최대한 활용할 수 있다!**