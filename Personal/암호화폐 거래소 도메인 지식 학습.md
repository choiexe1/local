#blockchain 

## 1. 오더북과 매칭

### 오더북 (Order Book)

미체결 주문들이 모여있는 장부. Bid(매수 호가)와 Ask(매도 호가)로 구분된다. Best Bid는 가장 높은 매수 호가, Best Ask는 가장 낮은 매도 호가. Bid와 Ask 사이의 가격 차이를 스프레드(Spread)라고 한다.

### 주문 타입

- Limit (지정가): 원하는 가격에 주문을 걸어두고 기다림
- Market (시장가): 현재 오더북에 있는 가격으로 즉시 체결

### 매칭 원리

Price-Time Priority (가격-시간 우선) 방식이 표준.

1. 가격이 유리한 주문 먼저
2. 같은 가격이면 먼저 들어온 주문 먼저 (FIFO)

### Maker / Taker

- Maker: 오더북에 유동성을 추가하는 주문 (지정가 걸어두기)
- Taker: 오더북에서 유동성을 가져가는 주문 (즉시 체결)
- 보통 Maker 수수료가 더 낮음 (유동성 공급 보상)

## 2. 잔고 관리

### 가용 잔고 vs 동결 잔고

- 가용 잔고 (Available): 사용 가능한 금액
- 동결 잔고 (Locked/Frozen): 미체결 주문에 묶여있는 금액

### 주문 생명주기

1. 주문 생성 → 필요 금액 동결
2. 체결 → 동결 해제, 실제 자산 이동
3. 취소 → 동결 해제, 가용 잔고로 복귀

### 부분 체결

주문이 여러 번에 나눠서 체결될 수 있음. 체결된 만큼만 자산 이동, 나머지는 계속 동결 상태 유지.

---

## 3. 지갑 시스템

### Hot Wallet vs Cold Wallet

- Hot Wallet: 온라인 상태, 입출금 처리용 (소량 보관)
- Cold Wallet: 오프라인 상태, 대량 자산 보관용 (보안)

### 입금 처리 흐름

1. 유저별 고유 입금 주소 발급
2. 블록체인 노드로 해당 주소 트랜잭션 모니터링
3. 트랜잭션 감지 → Confirmation 수 체크
4. 충분한 Confirmation 후 잔고 반영

### 출금 처리 흐름

1. 유저 출금 요청
2. 잔고 차감 + 출금 대기 상태
3. (필요시) 관리자 승인
4. Hot Wallet에서 트랜잭션 생성 및 서명
5. 블록체인 브로드캐스트
6. Confirmation 후 출금 완료 처리

---

## 4. 시세 데이터

### Ticker

현재 시장 상태 요약 정보. 현재가, 24시간 고가/저가, 24시간 거래량, 변동률 등 포함.

### 체결 내역 (Trades)

실제로 체결된 거래 기록. 체결 가격, 수량, 시간, 방향(매수/매도) 정보.

### 캔들 데이터 (OHLCV)

일정 시간 단위로 묶은 가격 정보.

- O (Open): 시가
- H (High): 고가
- L (Low): 저가
- C (Close): 종가
- V (Volume): 거래량

1분봉, 5분봉, 1시간봉, 1일봉 등 다양한 단위 제공.